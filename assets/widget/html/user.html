﻿<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0, width=device-width"/>
		<meta name="format-detection" content="telephone=no"/>
		<title>api</title>
		<link rel="stylesheet" type="text/css" href="../css/api.css" />
		<link rel="stylesheet" href="../script/agile/css/flat/flat.component.css">
		<link rel="stylesheet" href="../script/agile/css/flat/flat.color.css">
	<style>
	 html,body,section,footer,nav,div,ul,ol,li,img,a,span,em,del,center,strong,var,fieldset,form,label,dt,dd,cite,input,hr,time,mark,code,figcaption,figure,textarea{
        margin:0;
        border:0;
        padding:0;
        font-family: Tahoma, Geneva, sans-serif;
        font-style:normal;
    }
html,body {
    -webkit-touch-callout:none;
    -webkit-text-size-adjust:none;
    -webkit-tap-highlight-color:rgba(0, 0, 0, 0);
    -webkit-user-select:none;
}
footer,section,nav,img,a,button,em,del,strong,var,fieldset,label,cite,small,time,mark,code,figcaption,figure,textarea{
    display:block;
}
section,nav {
    position:relative;
    overflow:hidden;
}

span{
    display:inline-block;
}
a,a:visited{
    text-decoration:none;
}
body {
    background-color:#E0E0E0;
}
#main {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:180px;
    display:-webkit-box;
    -webkit-box-orient: vertical;
}

section {
    -webkit-box-flex:1;
    display:-webkit-box;
    -webkit-box-orient:vertical;
}
a {
    position:relative;
    -webkit-box-flex:1;
}
.personalInfo {
	color:#9d9d9d;
    background:url(../image/personalCenter/drawer_menu_icon_quest_nor.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
}
.setting {
	color:#9d9d9d;
    background:url(../image/personalCenter/drawer_menu_icon_setting_nor.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
}
.messageCenter {
    color:#9d9d9d;
    background:url(../image/personalCenter/drawer_menu_icon_messagecenter_nor.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
}
.personalInfo-hov{
    background:url(../image/personalCenter/drawer_menu_icon_quest_over.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
    background-color:#fff;
}
.setting-hov { 
    background:url(../image/personalCenter/drawer_menu_icon_setting_over.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
    background-color:#fff;
}
.messageCenter-hov {
    background:url(../image/personalCenter/drawer_menu_icon_messagecenter_over.png) no-repeat 20px 24px;
    -webkit-background-size:20px 20px;
    background-color:#fff;
}
a{
    border-top:solid 1px;
    border-color:#bebebe;
}
a>span {
    margin-top:24px;
    margin-left:45px;
    line-height:20px;
    font-size:16px;
}
#footer {
	position:fixed;
	bottom:0px;
	width:100%;
    height: 40px;
    font-size:16px;
}
.blankDiv{
	width:20px;
	height:40px;
	float:right;
	margin-right:28%;
}
.loginOut{
	width:50px;
	height:40px;
	line-height:40px;
	text-align:right;
	background:url(../image/personalCenter/icon_loginout.png) no-repeat 0px 11px;
    -webkit-background-size:18px 18px;
    float:right;
}
	</style>
	</head>
	<body>
		<div id="main">
	        <section>
	            <a class="personalInfo" tapmode="personalInfo-hov" onclick="openWin(0)">
	                <span>个人信息</span>
	            </a>
	            <a class="setting" tapmode="setting-hov" onclick="openWin(1)">
	                <span>设置</span>
	            </a>
	            <a class="messageCenter" tapmode="messageCenter-hov" onclick="openWin(2)">
	                <span>消息中心</span>
	            </a>
	        </section>	              		
    	</div>
    	<div id="footer">
    		<div class="blankDiv"></div>
    		<div class="loginOut" onclick="cancelLogin()">注销</div>
    		<!--
    		<div class="exit" onclick="exitApp()">退出</div>
    		.exit{
			width:35%;
			height:40px;
			float:left;
			text-align:center;
			line-height:40px;
			background:url(../image/personalCenter/drawer_menu_icon_exit_nor.png) no-repeat 25px 11px;
		    -webkit-background-size:18px 18px;
			}
    		--> 		
    	</div>  	
	</body>
	<script type="text/javascript" src="../script/api.js"></script>
	<script src='../script/constant.js'></script>
	<script type="text/javascript" src="../script/user.js"></script>
	<script type="text/javascript" src="../script/config.js"></script>
	<script type="text/javascript" src="../script/client.api.js"></script>
	<script type="text/javascript" src="../script/aui-alert.js"></script>
	<script>
		function openWin(obj){
			if(obj==0){
				var delay = 0;
		        if("ios" != api.systemType){
		            delay = 300;
		        }
		        api.closeSlidPane();
		        api.openWin({
		                    name: "personalInfo",
		                    url: "./personalInfo.html",
		                    pageParam: {
		                        obj: obj
		                    },
		                    bounces: false,
		                    vScrollBarEnabled:false,
		                    hScrollBarEnabled:false,
		                    reload: true,
		                    delay: delay
		                }
		        );        
				//api.toast({msg: "正在开发中", location: 'middle'});
			}else if(obj==1){
				api.closeSlidPane();				
				api.openWin({
			                   name: "systemSetting",
			                   url: "./systemSetting.html",
			                   pageParam: {
			                        obj: obj
			                    },
			                    bounces: false,
			                    vScrollBarEnabled:false,
			                    hScrollBarEnabled:false,
			                    reload: true,
			                    delay: delay
			                }
			        );
				//api.toast({msg: "正在开发中", location: 'middle'});
			}else if(obj==2){
				api.toast({msg: "正在开发中", location: 'middle'});
			}else{
				api.toast({msg: "正在开发中", location: 'middle'});
			}
		}
		
		function cancelLogin(){
			var user = $api.getStorage('user');
			//注销时提醒后台，改用户已注销
			$client.userLoginOut(function(ret, err) {});
			stopPush();
			//注销时设置islogin为false，表示未登录
			$api.setStorage('AUTO_LOGIN',false);
			api.openFrame({
				name : xx.page.WIN_LOGIN,
				url : 'login/index.html',
				opaque : true,
				bounces: false,
				vScrollBarEnabled : false
			});
		}

	</script>
</html>
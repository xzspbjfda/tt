<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport"
		content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
	<meta name="format-detection" content="telephone=no" />
	<title>巡检任务列表</title>
	<link rel="stylesheet" type="text/css" href="../../css/aui.css" />
	<link rel="stylesheet" type="text/css" href="../../css/task_list_frm.css" />
	<link rel="stylesheet" type="text/css" href="../../css/aui.css" />
	<style>
		.aui-flex-col:first-child {
			height: 30px;
			line-height: 30px;
			border-bottom: 1px dashed #00a0c8;
		}

		.aui-flex-col {
			height: 25px;
			line-height: 25px;
		}

		.ccssoft_list {
			background-color: #eff1f0;
			override: hidden;
		}

		.ccssoft_list {
			margin-top: 15px;
		}

		.ccssoft_list li {
			list-style: none;
			border-bottom: 1px solid #e3e2e2;
			background: #fff;
			overflow: hidden;
			margin-bottom: 10px;
		}

		.ccssoft_list li:hover {
			background: #f9e9df;
		}

		.ccssoft_list li.acitve {
			background: #f9e9df;
		}

		.cj-orange {
			background-color: orange;
		}

		.cj-blue {
			background-color: blue;
		}

		.cj-purple {
			background-color: purple;
		}

		.cj-green {
			background-color: green;
		}

		.cj-l-level {
			width: 18px;
			height: 18px;
			border-radius: 50%;
			line-height: 18px;
			text-align: center;
			display: inline-block;
			color: #fff;
			margin: 0 4px;
			vertical-align: top;
		}

		.cj-ash {
			background-color: grey;
		}

		.ccssoft_list_wxx {
			background-color: #eff1f0;
			overflow: hidden;
			width: 94%;
			margin: 0 auto;
		}

		.ccssoft_list_wxx li {
			list-style: none;
			border-radius: 6px;
			padding: 3px 10px 3px 10px;
			background: #fff;
			overflow: hidden;
			margin-top: 10px;
		}


		/*.ccssoft_list_wxx li:hover {
				 background: #f9e9df;
		 }
		 .ccssoft_list_wxx li.acitve {
				 background: #f9e9df;
		 }*/
		.ccssoft_list_wxx .showBox {
			text-align: center;
			font-size: 12px;
		}

		#main {
			background-color: #f4f4f4;
			padding-top: 10px;
		}

		.cj-l-title-wxx {
			border-bottom: 1px dashed #00a0c8;
			font-size: 16px;
			font-weight: bold;
			line-height: 20px;
			padding: 8px 70px 8px 0;
			position: relative;
		}

		.cj-l-title-wxx span {
			display: block;
			width: 90px;
			height: 20px;
			line-height: 20px;
			color: #666;
			text-align: right;
			position: absolute;
			top: 5px;
			right: 0;
			font-size: 12px;
			font-weight: bold;
		}

		.cj-l-into-wxx {
			font-size: 12px;
			color: #666;
			line-height: 20px;
			padding: 3px 0;
			position: relative;
		}

		.cj-l-date-wxx {
			display: block;
			position: absolute;
			top: 3px;
			right: 0;
			width: 180px;
			text-align: right;
		}

		.cj-l-date-wxx span {
			margin-left: 7px;
		}

		.cj-l-date-wxx:after {
			content: "";
			display: block;
			width: 1px;
			height: 12px;
			background: #e3e3e3;
			position: absolute;
			top: 4px;
			left: 60px;
		}

		.cj-l-date-wxx-2 {
			display: block;
			;
			width: 1px;
			height: 12px;
			background: #e3e3e3;
			position: absolute;
			right: -4px;
			top: 4px;
		}

		.cj-l_line {
			position: absolute;
			width: 5px;
			height: 18px;
			left: -10px;
			top: 9px;
			border-radius: 10px;
		}

		.cj-l_line1 {
			background: linear-gradient(#fe7a7d, #fe4f4f);
		}

		.LC_img {
			height: 60px;
			display: block;
			margin: 0 auto;
			background-color: #ccc;
		}

		.wxx_btn_box {
			display: flex;
			justify-content: space-between;
		}

		.wxx_btn {
			width: 118px;
			height: 33px;
			border-radius: 35px;
			border: 1px solid #db4537;
			line-height: 30px;
			box-shadow: 0 3px 8px rgba(226, 132, 123, .5);
			color: #db4537;
			font-size: 14px;
			text-align: center;
			margin: 4px auto;
		}

		.none {
			display: none;
		}

		.jifenshul {
			background-color: #fff;
			box-shadow: 0 10px 16px #e7eaf0;
			width: 94%;
			margin: 14px auto 0 auto;
			border-radius: 3px;
			border: none !important;
			line-height: 40px !important;
			height: 80px !important;
		}

		.jifenshul img {
			margin-top: 10px;
			margin-left: 6px;
			float: left;
			width: 20px;
		}

		.jifenshul span {
			float: left;
			margin-left: 2px;
		}

		.jifenshul .jsnum {
			float: right;
			margin-right: 4px;
		}
	</style>
</head>

<body>
	<script id="listView-template" type="text/x-dot-template">
		{{ window.dataList = it;}}
		{{ for(var i=0, len3=it.length; i < len3; i++) { }}
			<li class="aui-content" style="padding:8px;" tapmode="active">
				<div class="detailDiv" index="{{=i}}" onclick="openStandBillDetail(this,{{=i}})">
					<!--1.dingxb-->
					<div class="aui-flex-col">
						<div class="aui-flex-item-9"
							 style="font-weight: bold;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"> {{=it[i].stationName}}
							&nbsp;&nbsp; &nbsp;&nbsp;<span style="color: #4fba7c;"> 随工</span> <span style="float: right;color: #4fba7c">入站审批</span> </div>

						<div class="aui-flex-item-3 aui-text-right"  style="font-size: 15px;">排除（一般）</div>
					</div>
					<div class="aui-flex-col" style="font-size:15px;">
						<div class="aui-flex-item-9"
							 style="overflow: hidden;font-size: 15px;">{{=it[i].billSn}}
						</div>
						<div class="aui-flex-item-3 aui-text-right" style="font-size: 15px">{{=it[i].arrivalsName}}</div>
					</div>
					<div class="aui-flex-col" style="font-size:15px;">
						<div class="aui-flex-item-9">申请上站时间： {{=it[i].bookStartTime}}</div>
					</div>
				</div>
			</li>
		{{  } }}
</script>
	<ul class="ccssoft_list_wxx" id="listView">

		<!--<li class="aui-content" style="padding:8px;" tapmode="active">
			<div class="detailDiv" >
				<div class="aui-flex-col" style="height: unset;line-height: unset;">
					<div class="aui-flex-item-9"
						 style="overflow: hidden;"
						 >
						<div style="float: right;color: #4fba7c">入站审批</div>
						<div style="padding-right: 60px">我我我我我我无无无无无无无无无无无无无无无无无无无无无无无无无无无无无</div>
					</div>
				</div>
				<div class="aui-flex-col" style="font-size:15px;">
					<div class="aui-flex-item-9"
						 style="overflow: hidden;font-size: 15px;">FFFFFFFFFFFFFFF
					</div>
					<div class="aui-flex-item-3 aui-text-right" style="font-size: 15px">坂田银时</div>
				</div>
				<div class="aui-flex-col" style="font-size:15px;">
					<div class="aui-flex-item-9">申请上站时间： 2020-21-12 12:12:12</div>
				</div>
			</div>
		</li>-->
	</ul>

</body>
<script src="../../script/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/debug.js"></script>

<script type="text/javascript" src="../../script/xunjian_wxx.js"></script>

<script type="text/javascript" src="../../script/constant.js"></script>
<script type="text/javascript" src="../../script/config.js"></script>
<script type="text/javascript" src="../../script/request.js"></script>
<script type="text/javascript" src="../../script/common.js"></script>
<script type="text/javascript" src="../../script/navigate.js"></script>
<script type="text/javascript" src="../../script/doT.min.js"></script>
<script type="text/javascript" src="../../script/ccssoft/js/ccssoft-lite.js"></script>
<script type="text/javascript" src="../../script/client.api.js"></script>
<script type="text/javascript" src="../../script/aui-alert.js"></script>
<script type="text/javascript" src="../../script/home_frm.js"></script>
<!--<script type="text/javascript" src="./script/standBill.js"></script>-->
<script type="text/javascript">

	request.pendingAuditList = function (reqdata,callback) {
		service(
			{
				url: "/enterStationBill/pendingAuditList.do",
				data: reqdata
			},callback
		)
	}
	var dataList = [];
	var listView;
	apiready = function () {
		listView = new C.ApiListView({
			listName: 'list',
			fn: request.pendingAuditList,
			newSystem:true
		});
		listView.refresh();

		api.addEventListener({
			name: 'wait_task_list_frm'
		}, function(ret, err) {
			if (ret.value.state === 'auditOver') {
				refreshList();
			}
		});
	}

	/**
		*刷新页面
		*/
	function refreshList() {
		listView.refresh();
	}

	function cb_queryBillList(opts) {
		//	opts.stationcode = opts.stationCode;
		//	delete opts.stationCode;
		listView.setQueryOptions(opts);
		listView.refresh();
	}


	function openStandBillDetail(el,index) {
		var pageParam = dataList[index];
		pageParam.fromPage = "checkStandBill";
		api.openWin({
			name: 'checkStandBill',
			url: 'checkStandBill.html',
			opaque: true,
			bounces: false,
			reload: true,
			pageParam: pageParam,
			vScrollBarEnabled: false
		});
	}


</script>

</html>
